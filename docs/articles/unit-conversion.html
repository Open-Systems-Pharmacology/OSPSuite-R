<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ospsuite">
<title>Dimensions and Units • ospsuite</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Dimensions and Units">
<meta property="og:description" content="ospsuite">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ospsuite</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">11.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/ospsuite.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Primary functions</h6>
    <a class="dropdown-item" href="../articles/load-get.html">Loading a simulation and accessing entities</a>
    <a class="dropdown-item" href="../articles/set-values.html">Changing parameter and molecule start values</a>
    <a class="dropdown-item" href="../articles/run-simulation.html">Running a simulation</a>
    <a class="dropdown-item" href="../articles/pk-analysis.html">Calculating PK parameters of simulation outputs</a>
    <a class="dropdown-item" href="../articles/sensitivity-analysis.html">Sensitivity analysis</a>
    <a class="dropdown-item" href="../articles/create-individual.html">Creating individuals</a>
    <a class="dropdown-item" href="../articles/create-run-population.html">Population simulations</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Miscellaneous</h6>
    <a class="dropdown-item" href="../articles/efficient-calculations.html">Efficient calculation</a>
    <a class="dropdown-item" href="../articles/table-parameters.html">Table parameters</a>
    <a class="dropdown-item" href="../articles/unit-conversion.html">Dimensions and Units</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/open-systems-pharmacology/ospsuite-r/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Dimensions and Units</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/open-systems-pharmacology/ospsuite-r/blob/HEAD/vignettes/unit-conversion.Rmd" class="external-link"><code>vignettes/unit-conversion.Rmd</code></a></small>
      <div class="d-none name"><code>unit-conversion.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="unit-conversion">Unit conversion<a class="anchor" aria-label="anchor" href="#unit-conversion"></a>
</h2>
<p>Every entity - a molecule, a parameter, or an observer - has a
certain dimension, like <em>Amount</em>, <em>Concentration</em>, or
<em>Volume</em>. The dimension is a property of an entity:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/open-systems-pharmacology/ospsuite-r" class="external-link">ospsuite</a></span><span class="op">)</span>
<span class="co">#&gt; Loading required package: rClr</span>
<span class="co">#&gt; Loading the dynamic library for Microsoft .NET runtime...</span>
<span class="co">#&gt; Loaded Common Language Runtime version 4.0.30319.42000</span>

<span class="co"># Load a simulation</span>
<span class="va">simFilePath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Aciclovir.pkml"</span>, package <span class="op">=</span> <span class="st">"ospsuite"</span><span class="op">)</span>
<span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loadSimulation.html">loadSimulation</a></span><span class="op">(</span><span class="va">simFilePath</span><span class="op">)</span>

<span class="co"># Get the parameter volume of the liver.</span>
<span class="va">livParam</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getParameter.html">getParameter</a></span><span class="op">(</span><span class="st">"Organism|Liver|Volume"</span>, <span class="va">sim</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">livParam</span><span class="op">)</span>
<span class="co">#&gt; Parameter: </span>
<span class="co">#&gt;    Path: Organism|Liver|Volume </span>
<span class="co">#&gt;    Value: 2.17 [l] </span>
<span class="co">#&gt;    isDistributed: TRUE </span>
<span class="co">#&gt;    isStateVariable: FALSE</span>

<span class="co"># Dimension of the parameter</span>
<span class="va">livParam</span><span class="op">$</span><span class="va">dimension</span>
<span class="co">#&gt; [1] "Volume"</span></code></pre></div>
<p>The values of a certain dimension can be presented in different units
- for example, <em>l</em> or <em>ml</em> for the dimension
<em>Volume</em>, or <em>mol</em> and <em>µmol</em> for the dimension
<em>Amount</em>. The list of all available units for an entity can be
obtained using <code>allUnits()</code> method:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Dimension of the parameter</span>
<span class="va">livParam</span><span class="op">$</span><span class="va">dimension</span>
<span class="co">#&gt; [1] "Volume"</span>

<span class="co"># Units of the parameter</span>
<span class="va">livParam</span><span class="op">$</span><span class="va">allUnits</span>
<span class="co">#&gt; [1] "l"  "ml" "µl"</span></code></pre></div>
<p>Internally, <code>OSPS</code> works with the <strong>base
units</strong>, and all the values that are shown or passed to functions
are in base units by default. These base units are often different from
the units that are displayed by default in PK-Sim (and MoBi). The list
of base and default display units can be found in the <a href="https://docs.open-systems-pharmacology.org/appendix/appendix" class="external-link">documentation</a>.</p>
<p>As an example, the parameter <strong>BMI</strong> is given in the
default unit <code>kg/dm²</code>, while the default display unit is the
more convenient <code>kg/m²</code>.</p>
<p>The <code>{ospuite}</code> package provides a set of methods for
conversion between different units. The methods <code><a href="../reference/toUnit.html">toUnit()</a></code>,
<code><a href="../reference/toBaseUnit.html">toBaseUnit()</a></code>, and <code><a href="../reference/toDisplayUnit.html">toDisplayUnit()</a></code> require the
quantity to get the correct dimension and units; however, it does not
change the value of the quantity!</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get the BMI parameter</span>
<span class="va">bmiParam</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getParameter.html">getParameter</a></span><span class="op">(</span><span class="st">"Organism|BMI"</span>, <span class="va">sim</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">bmiParam</span><span class="op">)</span>
<span class="co">#&gt; Parameter: </span>
<span class="co">#&gt;    Path: Organism|BMI </span>
<span class="co">#&gt;    Value: 0.23 [kg/dm²] </span>
<span class="co">#&gt;    isFormula: TRUE </span>
<span class="co">#&gt;    formula: Height&gt;0 ? BW / (Height)^2 : 0 </span>
<span class="co">#&gt;    Value overrides formula: FALSE </span>
<span class="co">#&gt;    isStateVariable: FALSE</span>

<span class="co"># Print the base and the default display units</span>
<span class="va">bmiParam</span><span class="op">$</span><span class="va">unit</span>
<span class="co">#&gt; [1] "kg/dm²"</span>
<span class="va">bmiParam</span><span class="op">$</span><span class="va">displayUnit</span>
<span class="co">#&gt; [1] "kg/m²"</span>

<span class="co"># Convert the value from the base into the default display unit</span>
<span class="fu"><a href="../reference/toDisplayUnit.html">toDisplayUnit</a></span><span class="op">(</span>quantity <span class="op">=</span> <span class="va">bmiParam</span>, values <span class="op">=</span> <span class="va">bmiParam</span><span class="op">$</span><span class="va">value</span><span class="op">)</span>
<span class="co">#&gt; [1] 23.43633</span>

<span class="co"># Convert the value to the base unit, that can be used. e.g. for setting new parameter value</span>
<span class="fu"><a href="../reference/toBaseUnit.html">toBaseUnit</a></span><span class="op">(</span>quantity <span class="op">=</span> <span class="va">bmiParam</span>, values <span class="op">=</span> <span class="fl">30</span>, unit <span class="op">=</span> <span class="st">"kg/m²"</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.3</span>

<span class="va">liverVolume</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getParameter.html">getParameter</a></span><span class="op">(</span><span class="st">"Organism|Liver|Volume"</span>, <span class="va">sim</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">liverVolume</span><span class="op">)</span>
<span class="co">#&gt; Parameter: </span>
<span class="co">#&gt;    Path: Organism|Liver|Volume </span>
<span class="co">#&gt;    Value: 2.17 [l] </span>
<span class="co">#&gt;    isDistributed: TRUE </span>
<span class="co">#&gt;    isStateVariable: FALSE</span>

<span class="va">liverVolume</span><span class="op">$</span><span class="va">allUnits</span>
<span class="co">#&gt; [1] "l"  "ml" "µl"</span>

<span class="co"># Convert from base volume unit to µl</span>
<span class="fu"><a href="../reference/toUnit.html">toUnit</a></span><span class="op">(</span>quantity <span class="op">=</span> <span class="va">liverVolume</span>, values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>, targetUnit <span class="op">=</span> <span class="st">"ml"</span><span class="op">)</span>
<span class="co">#&gt; [1] 1000 2000 3000 4000</span></code></pre></div>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Michael Sevestre, Pavel Balazki, Juri Solodenko, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
