<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>GitHub Copilot Instructions for OSPSuite-R • ospsuite</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="GitHub Copilot Instructions for OSPSuite-R"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ospsuite</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">12.4.1.9006</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="articles/ospsuite.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Primary functions</h6></li>
    <li><a class="dropdown-item" href="articles/load-get.html">Loading a simulation and accessing entities</a></li>
    <li><a class="dropdown-item" href="articles/set-values.html">Changing parameter and molecule start values</a></li>
    <li><a class="dropdown-item" href="articles/run-simulation.html">Running a simulation</a></li>
    <li><a class="dropdown-item" href="articles/pk-analysis.html">Calculating PK parameters of simulation outputs</a></li>
    <li><a class="dropdown-item" href="articles/sensitivity-analysis.html">Sensitivity analysis</a></li>
    <li><a class="dropdown-item" href="articles/create-individual.html">Creating individuals</a></li>
    <li><a class="dropdown-item" href="articles/create-run-population.html">Population simulations</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Figure creation</h6></li>
    <li><a class="dropdown-item" href="articles/observed-data.html">Observed data</a></li>
    <li><a class="dropdown-item" href="articles/data-combined.html">Working with `DataCombined` class</a></li>
    <li><a class="dropdown-item" href="articles/data-combined-plotting.html">Visualizations with `DataCombined`</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Miscellaneous</h6></li>
    <li><a class="dropdown-item" href="articles/efficient-calculations.html">Efficient calculation</a></li>
    <li><a class="dropdown-item" href="articles/table-parameters.html">Table parameters</a></li>
    <li><a class="dropdown-item" href="articles/unit-conversion.html">Dimensions and Units</a></li>
    <li><a class="dropdown-item" href="articles/PKSim-installation.html">PK-Sim Installation</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/open-systems-pharmacology/ospsuite-r/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>GitHub Copilot Instructions for OSPSuite-R</h1>
      <small class="dont-index">Source: <a href="https://github.com/open-systems-pharmacology/ospsuite-r/blob/main/.github/copilot-instructions.md" class="external-link"><code>.github/copilot-instructions.md</code></a></small>
    </div>


<div id="github-copilot-instructions-for-ospsuite-r" class="section level1">

<blockquote>
<p><strong>Note</strong>: Please update this file with new instructions as the project evolves to ensure Copilot provides accurate and context-aware assistance.</p>
</blockquote>
<div class="section level2">
<h2 id="project-overview">Project Overview<a class="anchor" aria-label="anchor" href="#project-overview"></a></h2>
<p>The <a href="https://github.com/open-systems-pharmacology/ospsuite-r" class="external-link">ospsuite</a> R package provides functionality for loading, manipulating, and simulating pharmacokinetic/pharmacodynamic (PK/PD) models created in the Open Systems Pharmacology Software tools (PK-Sim and MoBi). This is a binary R package that wraps .NET libraries through the <a href="https://github.com/Open-Systems-Pharmacology/rsharp/" class="external-link">rSharp</a> package.</p>
<p><strong>Key characteristics:</strong> - <strong>Language</strong>: R (version 4.1+) - <strong>Architecture</strong>: R6 class-based object-oriented design wrapping .NET objects - <strong>Platforms</strong>: Windows and Linux (Ubuntu) - <strong>Testing</strong>: testthat (edition 3) - <strong>Documentation</strong>: roxygen2 with markdown support - <strong>Dependencies</strong>: Includes binary .NET DLLs, uses rSharp for .NET interoperability</p>
</div>
<div class="section level2">
<h2 id="project-structure">Project Structure<a class="anchor" aria-label="anchor" href="#project-structure"></a></h2>
<pre><code>OSPSuite-R/
├── R/                      # R source code (~89 files)
│   ├── *-base.R           # Base classes (ObjectBase, DotNetWrapper, etc.)
│   ├── *.R                # R6 class definitions and functions
│   ├── utilities-*.R      # Helper utilities for various operations
│   └── zzz.R              # Package initialization hooks
├── tests/
│   └── testthat/          # Unit tests (~87 test files)
├── man/                    # Generated documentation (roxygen2)
├── vignettes/             # Package vignettes (~15 .Rmd files)
├── inst/                   # Installed files (DLLs, example data)
├── BinaryFiles/           # Platform-specific .NET binaries
└── .github/               # GitHub workflows and configurations</code></pre>
</div>
<div class="section level2">
<h2 id="architecture-patterns">Architecture Patterns<a class="anchor" aria-label="anchor" href="#architecture-patterns"></a></h2>
<div class="section level3">
<h3 id="r6-classes-and-net-wrapping">R6 Classes and .NET Wrapping<a class="anchor" aria-label="anchor" href="#r6-classes-and-net-wrapping"></a></h3>
<p>The package extensively uses R6 classes to wrap .NET objects:</p>
<ol style="list-style-type: decimal"><li>
<strong>Base hierarchy</strong>:
<ul><li>
<code>NetObject</code> - Base class for all .NET object wrappers</li>
<li>
<code>DotNetWrapper</code> - Extends NetObject with common wrapper methods</li>
<li>
<code>ObjectBase</code> - Extends DotNetWrapper for OSPSuite.Core objects</li>
</ul></li>
<li>
<strong>Domain classes</strong>: Most classes inherit from <code>ObjectBase</code> or <code>DotNetWrapper</code>:
<ul><li>
<code>Simulation</code>, <code>Container</code>, <code>Parameter</code>, <code>Quantity</code>, <code>Molecule</code>
</li>
<li>
<code>DataSet</code>, <code>DataRepository</code>, <code>DataColumn</code>
</li>
<li>
<code>Population</code>, <code>IndividualCharacteristics</code>
</li>
</ul></li>
<li>
<strong>Key patterns</strong>:
<ul><li>Use <code><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6::R6Class()</a></code> with <code>cloneable = FALSE</code> for .NET-backed objects</li>
<li>Active bindings for properties (read-only and read-write)</li>
<li>
<code>self$ref</code> or <code>self$pointer</code> to access underlying .NET object</li>
<li>
<code>rSharp::</code> functions for .NET interoperability</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="example-r6-class-structure">Example R6 Class Structure<a class="anchor" aria-label="anchor" href="#example-r6-class-structure"></a></h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ClassName</span> <span class="op">&lt;-</span> <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span></span>
<span>  <span class="st">"ClassName"</span>,</span>
<span>  cloneable <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  inherit <span class="op">=</span> <span class="va">ObjectBase</span>,  <span class="co"># or DotNetWrapper</span></span>
<span>  active <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co">#' @field propertyName Description (read-only or read-write)</span></span>
<span>    propertyName <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">value</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="co"># Getter</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"PropertyName"</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="co"># Setter (if applicable)</span></span>
<span>        <span class="fu">validateIsString</span><span class="op">(</span><span class="va">value</span><span class="op">)</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span><span class="st">"PropertyName"</span>, <span class="va">value</span><span class="op">)</span></span>
<span>      <span class="op">}</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span>,</span>
<span>  public <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co">#' @description Constructor</span></span>
<span>    <span class="co">#' @param netObject .NET object reference</span></span>
<span>    initialize <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">netObject</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="co"># Initialization code</span></span>
<span>    <span class="op">}</span>,</span>
<span>    </span>
<span>    <span class="co">#' @description Method description</span></span>
<span>    <span class="co">#' @param arg1 Description</span></span>
<span>    <span class="co">#' @return Return value description</span></span>
<span>    methodName <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">arg1</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="co"># Method implementation</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span>,</span>
<span>  private <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co"># Private fields and methods</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="coding-standards">Coding Standards<a class="anchor" aria-label="anchor" href="#coding-standards"></a></h2>
<p>Follow the Open Systems Pharmacology R coding standards: <strong>Reference</strong>: <a href="https://dev.open-systems-pharmacology.org/r-development-resources/coding_standards_r" class="external-link uri">https://dev.open-systems-pharmacology.org/r-development-resources/coding_standards_r</a></p>
<div class="section level3">
<h3 id="naming-conventions">Naming Conventions<a class="anchor" aria-label="anchor" href="#naming-conventions"></a></h3>
<ol style="list-style-type: decimal"><li>
<p><strong>Variables and functions</strong>: <code>camelCase</code></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simulationResults</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/runSimulation.html">runSimulation</a></span><span class="op">(</span><span class="va">sim</span><span class="op">)</span></span>
<span><span class="va">getParameterValue</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">parameter</span><span class="op">)</span> <span class="op">{</span> <span class="va">...</span> <span class="op">}</span></span></code></pre></div>
</li>
<li>
<p><strong>Classes</strong>: <code>PascalCase</code></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">SimulationResults</span> <span class="op">&lt;-</span> <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span><span class="st">"SimulationResults"</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p><strong>Constants</strong>: <code>ALL_CAPS</code> or <code>ALL_CAPS_WITH_UNDERSCORES</code></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MAX_ITERATIONS</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span><span class="va">DEFAULT_TOLERANCE</span> <span class="op">&lt;-</span> <span class="fl">1e-6</span></span></code></pre></div>
</li>
<li>
<p><strong>Private members</strong>: Prefix with <code>.</code> (dot)</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">private</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  .cachedValue <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .internalMethod <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="va">...</span> <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
</li>
</ol></div>
<div class="section level3">
<h3 id="code-style">Code Style<a class="anchor" aria-label="anchor" href="#code-style"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>Indentation</strong>: 2 spaces (no tabs)</li>
<li>
<strong>Line length</strong>: Keep lines under 80-100 characters</li>
<li>
<strong>Assignment</strong>: Use <code>&lt;-</code> for assignment, not <code>=</code>
</li>
<li>
<strong>Spacing</strong>: Space after commas, around operators</li>
<li>
<strong>Function definitions</strong>: Opening brace on same line, closing brace on new line</li>
<li>
<strong>Avoid hard-coded values</strong>: Use named constants or parameters</li>
</ol></div>
<div class="section level3">
<h3 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h3>
<p>Every exported function and class must have roxygen2 documentation:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' @title Brief title</span></span>
<span><span class="co">#' @description Detailed description of what the function/class does</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param paramName Description of parameter</span></span>
<span><span class="co">#' @param anotherParam Description</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @return Description of return value (type and structure)</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' \dontrun{</span></span>
<span><span class="co">#'   result &lt;- functionName(arg1, arg2)</span></span>
<span><span class="co">#' }</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">functionName</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">paramName</span>, <span class="va">anotherParam</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Implementation</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><strong>For R6 classes</strong>: - Use <code>@field</code> for active bindings - Use <code>@description</code> for methods - Document constructor parameters in <code>initialize()</code></p>
</div>
<div class="section level3">
<h3 id="input-validation">Input Validation<a class="anchor" aria-label="anchor" href="#input-validation"></a></h3>
<p>Always validate function inputs:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use validation functions from ospsuite.utils or base R</span></span>
<span><span class="fu">validateIsString</span><span class="op">(</span><span class="va">value</span><span class="op">)</span></span>
<span><span class="fu">validateIsNumeric</span><span class="op">(</span><span class="va">value</span><span class="op">)</span></span>
<span><span class="fu">validateIsOfType</span><span class="op">(</span><span class="va">object</span>, <span class="st">"Simulation"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or use stopifnot, assertthat, checkmate</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">values</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="error-handling">Error Handling<a class="anchor" aria-label="anchor" href="#error-handling"></a></h3>
<p>Error messages should be defined in <a href="https://github.com/Open-Systems-Pharmacology/OSPSuite-R/blob/main/R/messages.R" class="external-link"><code>R/messages.R</code></a> to ensure consistency and reusability. Some error messages are already defined in the <code>ospsuite.utils</code> package - see <a href="https://github.com/Open-Systems-Pharmacology/OSPSuite.RUtils/blob/main/R/messages.R" class="external-link"><code>ospsuite.utils messages.R</code></a>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define error messages in messages.R</span></span>
<span><span class="va">messages</span><span class="op">$</span><span class="va">errorSimulationIsNull</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="st">"Simulation cannot be NULL"</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">messages</span><span class="op">$</span><span class="va">errorDeprecatedFunction</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">oldFunc</span>, <span class="va">newFunc</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Function '"</span>, <span class="va">oldFunc</span>, <span class="st">"' is deprecated. Use '"</span>, <span class="va">newFunc</span>, <span class="st">"' instead."</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Use stop() with messages from messages.R</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">simulation</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="va">messages</span><span class="op">$</span><span class="fu">errorSimulationIsNull</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Use warning() for non-fatal issues with messages from messages.R</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">deprecated</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="va">messages</span><span class="op">$</span><span class="fu">errorDeprecatedFunction</span><span class="op">(</span><span class="st">"oldFunction"</span>, <span class="st">"newFunction"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Use tryCatch() for operations that may fail</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span></span>
<span>  <span class="op">{</span></span>
<span>    <span class="fu">riskyOperation</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span>,</span>
<span>  error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">messages</span><span class="op">$</span><span class="fu">failedToPerformOperation</span><span class="op">(</span><span class="va">e</span><span class="op">$</span><span class="va">message</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>Logging functionality</strong>: Error, debug, and info messages can be additionally logged using the <code>ospsuite.utils</code> logging functionality. See the <a href="https://www.open-systems-pharmacology.org/OSPSuite.RUtils/dev/articles/logger.html" class="external-link">logger documentation</a> for details.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example of logging with ospsuite.utils</span></span>
<span><span class="fu">ospsuite.utils</span><span class="fu">::</span><span class="fu"><a href="https://www.open-systems-pharmacology.org/OSPSuite.RUtils/reference/logError.html" class="external-link">logError</a></span><span class="op">(</span><span class="va">messages</span><span class="op">$</span><span class="va">someError</span><span class="op">)</span></span>
<span><span class="fu">ospsuite.utils</span><span class="fu">::</span><span class="fu"><a href="https://www.open-systems-pharmacology.org/OSPSuite.RUtils/reference/logDebug.html" class="external-link">logDebug</a></span><span class="op">(</span><span class="va">messages</span><span class="op">$</span><span class="va">someDebugInformation</span><span class="op">)</span></span>
<span><span class="fu">ospsuite.utils</span><span class="fu">::</span><span class="fu"><a href="https://www.open-systems-pharmacology.org/OSPSuite.RUtils/reference/logInfo.html" class="external-link">logInfo</a></span><span class="op">(</span><span class="va">messages</span><span class="op">$</span><span class="va">someInformation</span><span class="op">)</span></span></code></pre></div>
<p><strong>Message formatting</strong>: Error, debug, and info messages can be formatted using <code>cli</code> for enhanced readability. See <a href="https://www.open-systems-pharmacology.org/OSPSuite.RUtils/dev/articles/logger.html#taking-advantage-of-glue-and-cli-formatting" class="external-link">taking advantage of glue and cli formatting</a> for details.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example of formatting messages with cli</span></span>
<span><span class="co"># Define messages with cli formatting in messages.R</span></span>
<span><span class="va">messages</span><span class="op">$</span><span class="va">errorLoadingSimulation</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">filePath</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="st">"Failed to load simulation from {.file {filePath}}"</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">messages</span><span class="op">$</span><span class="va">infoProcessingData</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">nRows</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="st">"Processing {.val {nRows}} rows of data"</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">messages</span><span class="op">$</span><span class="va">debugParameterValue</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">paramName</span>, <span class="va">paramValue</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="st">"Parameter {.field {paramName}} has value {.val {paramValue}}"</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Use in code with logging</span></span>
<span><span class="fu">ospsuite.utils</span><span class="fu">::</span><span class="fu"><a href="https://www.open-systems-pharmacology.org/OSPSuite.RUtils/reference/logError.html" class="external-link">logError</a></span><span class="op">(</span><span class="va">messages</span><span class="op">$</span><span class="fu">errorLoadingSimulation</span><span class="op">(</span><span class="va">filePath</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">ospsuite.utils</span><span class="fu">::</span><span class="fu"><a href="https://www.open-systems-pharmacology.org/OSPSuite.RUtils/reference/logInfo.html" class="external-link">logInfo</a></span><span class="op">(</span><span class="va">messages</span><span class="op">$</span><span class="fu">infoProcessingData</span><span class="op">(</span><span class="va">nRows</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">ospsuite.utils</span><span class="fu">::</span><span class="fu"><a href="https://www.open-systems-pharmacology.org/OSPSuite.RUtils/reference/logDebug.html" class="external-link">logDebug</a></span><span class="op">(</span><span class="va">messages</span><span class="op">$</span><span class="fu">debugParameterValue</span><span class="op">(</span><span class="va">paramName</span>, <span class="va">paramValue</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="performance">Performance<a class="anchor" aria-label="anchor" href="#performance"></a></h3>
<ol style="list-style-type: decimal"><li>
<p><strong>Vectorization</strong>: Prefer vectorized operations over loops</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Good</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">values</span>, <span class="va">processValue</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Avoid</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">val</span> <span class="kw">in</span> <span class="va">values</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">results</span>, <span class="fu">processValue</span><span class="op">(</span><span class="va">val</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</li>
<li><p><strong>Efficient data structures</strong>: Use appropriate data structures (data.frame, data.table, lists)</p></li>
<li><p><strong>Avoid unnecessary copies</strong>: R uses copy-on-modify; be mindful of large objects</p></li>
</ol></div>
<div class="section level3">
<h3 id="code-complexity">Code Complexity<a class="anchor" aria-label="anchor" href="#code-complexity"></a></h3>
<ul><li>
<strong>Keep functions focused</strong>: Each function should do one thing well</li>
<li>
<strong>Limit cyclomatic complexity</strong>: Aim for complexity ≤ 10 per function</li>
<li>
<strong>Refactor complex logic</strong>: Break down into smaller helper functions</li>
<li>
<strong>Avoid deep nesting</strong>: Limit nesting to 2-3 levels</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="best-practices">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices"></a></h2>
<p><strong>Reference</strong>: <a href="https://dev.open-systems-pharmacology.org/r-development-resources/best-practices-r" class="external-link uri">https://dev.open-systems-pharmacology.org/r-development-resources/best-practices-r</a></p>
<ol style="list-style-type: decimal"><li>
<strong>Modular code</strong>: Organize related functions together</li>
<li>
<strong>DRY principle</strong>: Don’t repeat yourself - refactor common code</li>
<li>
<strong>Meaningful names</strong>: Use descriptive, self-explanatory names</li>
<li>
<strong>Comments</strong>: Comment complex logic, not obvious code</li>
<li>
<strong>Unit tests</strong>: Write tests for all new functions and bug fixes</li>
<li>
<strong>Documentation</strong>: Keep documentation up-to-date with code changes</li>
</ol></div>
<div class="section level2">
<h2 id="r-code-structure">R Code Structure<a class="anchor" aria-label="anchor" href="#r-code-structure"></a></h2>
<p><strong>Reference</strong>: <a href="https://dev.open-systems-pharmacology.org/r-development-resources/r-code-structure" class="external-link uri">https://dev.open-systems-pharmacology.org/r-development-resources/r-code-structure</a></p>
<div class="section level3">
<h3 id="file-organization">File Organization<a class="anchor" aria-label="anchor" href="#file-organization"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>One main class/concept per file</strong>: <code>simulation.R</code>, <code>parameter.R</code>
</li>
<li>
<strong>Utility files</strong>: Group related utilities: <code>utilities-parameter.R</code>, <code>utilities-simulation.R</code>
</li>
<li>
<strong>Base classes first</strong>: <code>object-base.R</code>, <code>dot-net-wrapper.R</code> loaded early</li>
<li>
<strong>Collate order</strong>: Controlled in DESCRIPTION file to ensure proper loading</li>
</ol></div>
<div class="section level3">
<h3 id="function-organization-within-files">Function Organization Within Files<a class="anchor" aria-label="anchor" href="#function-organization-within-files"></a></h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 1. Constants and global variables (if any)</span></span>
<span><span class="va">CONSTANT_VALUE</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span></span>
<span><span class="co"># 2. Class definitions (R6::R6Class)</span></span>
<span><span class="va">ClassName</span> <span class="op">&lt;-</span> <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Public exported functions</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">publicFunction</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="va">...</span> <span class="op">}</span></span>
<span></span>
<span><span class="co"># 4. Internal helper functions (not exported)</span></span>
<span><span class="va">.internalHelper</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="va">...</span> <span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="testing-guidelines">Testing Guidelines<a class="anchor" aria-label="anchor" href="#testing-guidelines"></a></h2>
<p><strong>Framework</strong>: testthat (edition 3)</p>
<div class="section level3">
<h3 id="test-structure">Test Structure<a class="anchor" aria-label="anchor" href="#test-structure"></a></h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># tests/testthat/test-feature-name.R</span></span>
<span></span>
<span><span class="fu">test_that</span><span class="op">(</span><span class="st">"descriptive test name"</span>, <span class="op">{</span></span>
<span>  <span class="co"># Arrange</span></span>
<span>  <span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">loadTestSimulation</span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Act</span></span>
<span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">performOperation</span><span class="op">(</span><span class="va">sim</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Assert</span></span>
<span>  <span class="fu">expect_true</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span>
<span>  <span class="fu">expect_gt</span><span class="op">(</span><span class="va">result</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">0</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="testing-guidelines-1">Testing Guidelines<a class="anchor" aria-label="anchor" href="#testing-guidelines-1"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>Test file naming</strong>: <code>test-&lt;source-file-name&gt;.R</code>
</li>
<li>
<strong>Test organization</strong>: Group related tests with <code>describe()</code> if needed</li>
<li>
<strong>Descriptive names</strong>: Test names should clearly describe what’s being tested</li>
<li>
<strong>AAA pattern</strong>: Arrange, Act, Assert</li>
<li>
<strong>Test data</strong>: Use test fixtures in <code>tests/testthat/data/</code> or <code>inst/extdata/</code>
</li>
<li>
<strong>Snapshot tests</strong>: Use for complex outputs (via vdiffr for plots)</li>
<li>
<strong>Coverage</strong>: Aim for high test coverage of new code</li>
</ol></div>
<div class="section level3">
<h3 id="common-test-patterns">Common Test Patterns<a class="anchor" aria-label="anchor" href="#common-test-patterns"></a></h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Test for errors</span></span>
<span><span class="fu">expect_error</span><span class="op">(</span><span class="fu">invalidOperation</span><span class="op">(</span><span class="op">)</span>, <span class="st">"expected error message"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Test for warnings</span></span>
<span><span class="fu">expect_warning</span><span class="op">(</span><span class="fu">deprecatedFunction</span><span class="op">(</span><span class="op">)</span>, <span class="st">"deprecated"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Test object types</span></span>
<span><span class="fu">expect_s3_class</span><span class="op">(</span><span class="va">result</span>, <span class="st">"data.frame"</span><span class="op">)</span></span>
<span><span class="fu">expect_r6_class</span><span class="op">(</span><span class="va">sim</span>, <span class="st">"Simulation"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Test values</span></span>
<span><span class="fu">expect_equal</span><span class="op">(</span><span class="va">value</span>, <span class="va">expected</span>, tolerance <span class="op">=</span> <span class="fl">1e-6</span><span class="op">)</span></span>
<span><span class="fu">expect_identical</span><span class="op">(</span><span class="va">obj1</span>, <span class="va">obj2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Test conditions</span></span>
<span><span class="fu">expect_true</span><span class="op">(</span><span class="va">condition1</span><span class="op">)</span></span>
<span><span class="fu">expect_false</span><span class="op">(</span><span class="va">condition2</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="collaboration-guide">Collaboration Guide<a class="anchor" aria-label="anchor" href="#collaboration-guide"></a></h2>
<p><strong>Reference</strong>: <a href="https://dev.open-systems-pharmacology.org/r-development-resources/collaboration_guide" class="external-link uri">https://dev.open-systems-pharmacology.org/r-development-resources/collaboration_guide</a></p>
<div class="section level3">
<h3 id="branching-strategy">Branching Strategy<a class="anchor" aria-label="anchor" href="#branching-strategy"></a></h3>
<ul><li>
<code>main</code>: Stable release branch</li>
<li>Feature branches: <code>feature/description</code> or <code>copilot/description</code>
</li>
<li>Pull requests required for all changes</li>
</ul></div>
<div class="section level3">
<h3 id="commit-messages">Commit Messages<a class="anchor" aria-label="anchor" href="#commit-messages"></a></h3>
<ul><li>Clear, concise descriptions of changes</li>
<li>Reference issue numbers when applicable: <code>Fix #123: Description</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="pull-request-process">Pull Request Process<a class="anchor" aria-label="anchor" href="#pull-request-process"></a></h3>
<ol style="list-style-type: decimal"><li>Create feature branch from <code>main</code>
</li>
<li>Make focused, minimal changes</li>
<li>Write/update tests for changes</li>
<li>Update documentation (roxygen2 comments)</li>
<li>Run R CMD check locally</li>
<li>Create pull request with clear description</li>
<li>Address code review feedback</li>
<li>Ensure CI checks pass</li>
</ol></div>
<div class="section level3">
<h3 id="version-management">Version Management<a class="anchor" aria-label="anchor" href="#version-management"></a></h3>
<ul><li>Follows semantic versioning (major.minor.patch)</li>
<li>Development versions use <code>.9000</code> suffix (e.g., <code>12.3.2.9006</code>)</li>
<li>Version automatically bumped on merge to main</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="rsharp-package">rSharp Package<a class="anchor" aria-label="anchor" href="#rsharp-package"></a></h2>
<p><strong>Reference</strong>: <a href="https://www.open-systems-pharmacology.org/rSharp" class="external-link uri">https://www.open-systems-pharmacology.org/rSharp</a></p>
<p>The <a href="https://github.com/Open-Systems-Pharmacology/rsharp/" class="external-link">rSharp</a> package provides R-to-.NET interoperability:</p>
<div class="section level3">
<h3 id="common-rsharp-patterns">Common rSharp Patterns<a class="anchor" aria-label="anchor" href="#common-rsharp-patterns"></a></h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Call .NET static method</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">rSharp</span><span class="fu">::</span><span class="fu"><a href="http://www.open-systems-pharmacology.org/rSharp/reference/callStatic.html" class="external-link">callStatic</a></span><span class="op">(</span><span class="st">"Namespace.ClassName"</span>, <span class="st">"MethodName"</span>, <span class="va">arg1</span>, <span class="va">arg2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get .NET property</span></span>
<span><span class="va">value</span> <span class="op">&lt;-</span> <span class="va">netObject</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"PropertyName"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set .NET property</span></span>
<span><span class="va">netObject</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span><span class="st">"PropertyName"</span>, <span class="va">newValue</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get .NET type</span></span>
<span><span class="va">typeObj</span> <span class="op">&lt;-</span> <span class="fu">rSharp</span><span class="fu">::</span><span class="fu"><a href="http://www.open-systems-pharmacology.org/rSharp/reference/getType.html" class="external-link">getType</a></span><span class="op">(</span><span class="st">"Namespace.ClassName"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Enumerate .NET collection</span></span>
<span><span class="va">items</span> <span class="op">&lt;-</span> <span class="fu">rSharp</span><span class="fu">::</span><span class="fu">toList</span><span class="op">(</span><span class="va">netCollection</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="net-r-type-conversions">.NET-R Type Conversions<a class="anchor" aria-label="anchor" href="#net-r-type-conversions"></a></h3>
<ul><li>.NET <code>null</code> → R <code>NULL</code>
</li>
<li>.NET collections → R lists (via <code>rSharp::toList()</code>)</li>
<li>.NET arrays → R vectors</li>
<li>.NET objects → Wrapped in R6 classes</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="development-workflow">Development Workflow<a class="anchor" aria-label="anchor" href="#development-workflow"></a></h2>
<div class="section level3">
<h3 id="setting-up-development-environment">Setting Up Development Environment<a class="anchor" aria-label="anchor" href="#setting-up-development-environment"></a></h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 1. Clone repository</span></span>
<span><span class="co"># 2. Run development setup</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"tools/setup_dev.R"</span><span class="op">)</span></span>
<span><span class="fu">setup_dev</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Install dependencies</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_deps.html" class="external-link">install_deps</a></span><span class="op">(</span>dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4. Load package for development</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link">load_all</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="building-and-checking">Building and Checking<a class="anchor" aria-label="anchor" href="#building-and-checking"></a></h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check package</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">check</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build documentation</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run tests</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">test</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build vignettes</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/build_vignettes.html" class="external-link">build_vignettes</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install locally</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="updating-core-binary-files">Updating Core Binary Files<a class="anchor" aria-label="anchor" href="#updating-core-binary-files"></a></h3>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Update .NET DLLs from OSPSuite.Core</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">".github/scripts/update_core_files.R"</span><span class="op">)</span></span>
<span><span class="co"># Follow instructions in script</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="common-pitfalls-and-solutions">Common Pitfalls and Solutions<a class="anchor" aria-label="anchor" href="#common-pitfalls-and-solutions"></a></h2>
<div class="section level3">
<h3 id="id_1-net-object-lifetime">1. .NET Object Lifetime<a class="anchor" aria-label="anchor" href="#id_1-net-object-lifetime"></a></h3>
<p><strong>Issue</strong>: .NET objects may be garbage collected unexpectedly<br><strong>Solution</strong>: Keep R references alive, use <code><a href="reference/clearMemory.html">clearMemory()</a></code> explicitly when needed</p>
</div>
<div class="section level3">
<h3 id="id_2-locale-issues">2. Locale Issues<a class="anchor" aria-label="anchor" href="#id_2-locale-issues"></a></h3>
<p><strong>Issue</strong>: Package loading fails with non-English locale<br><strong>Solution</strong>: Set locale to <code>en_US.UTF-8</code> (see README “Known issues”)</p>
</div>
<div class="section level3">
<h3 id="id_3-platform-differences">3. Platform Differences<a class="anchor" aria-label="anchor" href="#id_3-platform-differences"></a></h3>
<p><strong>Issue</strong>: DLL naming differs between Windows and Linux<br><strong>Solution</strong>: Configure scripts handle this automatically; use <code>setup_dev()</code> for development</p>
</div>
<div class="section level3">
<h3 id="id_4-workspace-saving">4. Workspace Saving<a class="anchor" aria-label="anchor" href="#id_4-workspace-saving"></a></h3>
<p><strong>Issue</strong>: .NET objects cannot be saved/restored in R workspace<br><strong>Solution</strong>: Don’t save workspace; reload simulations from files instead</p>
</div>
<div class="section level3">
<h3 id="id_5-memory-management">5. Memory Management<a class="anchor" aria-label="anchor" href="#id_5-memory-management"></a></h3>
<p><strong>Issue</strong>: Memory not freed after intensive operations<br><strong>Solution</strong>: Call <code>clearMemory(clearSimulationsCache = TRUE)</code> periodically</p>
</div>
</div>
<div class="section level2">
<h2 id="additional-resources">Additional Resources<a class="anchor" aria-label="anchor" href="#additional-resources"></a></h2>
<ul><li>
<strong>R Coding Standards</strong>: <a href="https://dev.open-systems-pharmacology.org/r-development-resources/coding_standards_r" class="external-link uri">https://dev.open-systems-pharmacology.org/r-development-resources/coding_standards_r</a>
</li>
<li>
<strong>Best Practices R</strong>: <a href="https://dev.open-systems-pharmacology.org/r-development-resources/best-practices-r" class="external-link uri">https://dev.open-systems-pharmacology.org/r-development-resources/best-practices-r</a>
</li>
<li>
<strong>R Code Structure</strong>: <a href="https://dev.open-systems-pharmacology.org/r-development-resources/r-code-structure" class="external-link uri">https://dev.open-systems-pharmacology.org/r-development-resources/r-code-structure</a>
</li>
<li>
<strong>Collaboration Guide</strong>: <a href="https://dev.open-systems-pharmacology.org/r-development-resources/collaboration_guide" class="external-link uri">https://dev.open-systems-pharmacology.org/r-development-resources/collaboration_guide</a>
</li>
<li>
<strong>rSharp Documentation</strong>: <a href="https://www.open-systems-pharmacology.org/rSharp" class="external-link uri">https://www.open-systems-pharmacology.org/rSharp</a>
</li>
<li>
<strong>Package Documentation</strong>: <a href="https://www.open-systems-pharmacology.org/OSPSuite-R/" class="uri">https://www.open-systems-pharmacology.org/OSPSuite-R/</a>
</li>
<li>
<strong>GitHub Repository</strong>: <a href="https://github.com/Open-Systems-Pharmacology/OSPSuite-R" class="external-link uri">https://github.com/Open-Systems-Pharmacology/OSPSuite-R</a>
</li>
<li>
<strong>Bug Reports</strong>: <a href="https://github.com/Open-Systems-Pharmacology/OSPSuite-R/issues" class="external-link uri">https://github.com/Open-Systems-Pharmacology/OSPSuite-R/issues</a>
</li>
</ul><hr></div>
</div>
<div class="section level1">
<h1 id="github-copilot-code-review-instructions-for-r-package-prs">GitHub Copilot Code Review Instructions for R Package PRs<a class="anchor" aria-label="anchor" href="#github-copilot-code-review-instructions-for-r-package-prs"></a></h1>
<p>When performing a code review, follow the instructions in the <code>.github/code-review-instructions.md</code> file.</p>
</div>


  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.open-systems-pharmacology.org/" class="external-link"><img src="https://avatars.githubusercontent.com/u/25098323?s=33" alt="Open System Pharmacology Logo">Open Systems Pharmacology</a>, <a href="https://github.com/msevestre" class="external-link">Michael Sevestre</a>, <a href="https://github.com/PavelBal" class="external-link">Pavel Balazki</a>, <a href="https://github.com/Yuri05" class="external-link">Juri Solodenko</a>, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, Felix MIL.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

